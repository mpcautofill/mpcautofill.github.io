"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[789],{8208:function(e,n,l){l.d(n,{K:function(){return c},N0:function(){return r},wk:function(){return d}});var i=l(1677);function r(e,n){return(e%n+n)%n}function c(e,n){let l=10**n,i=e/1e6;return i=Math.round(i*l)/l,"".concat(i," MB")}function d(e){for(let n of i.Ds)if(n>=e)return n;return i.Ds[i.Ds.length-1]}},4291:function(e,n,l){l.d(n,{Ev:function(){return D},oP:function(){return g},u2:function(){return b}});var i,r=l(7297),c=l(5893),d=l(5675),s=l.n(d),t=l(7294),a=l(8182),o=l(2664),u=l(9521),h=l(5305);function m(){let e=(0,r.Z)(["\n  z-index: 0;\n  opacity: 0;\n"]);return m=function(){return e},e}function x(){let e=(0,r.Z)(["\n  z-index: 1;\n  opacity: ",";\n"]);return x=function(){return e},e}function j(){let e=(0,r.Z)(["\n  z-index: 0;\n  background: #4e5d6c;\n  border: solid ","px black;\n"]);return j=function(){return e},e}let f=(0,u.ZP)(s()).withConfig({componentId:"sc-e8045987-0"})(m()),v=(0,u.ZP)(s()).withConfig({componentId:"sc-e8045987-1"})(x(),e=>e.imageIsLoading?0:1),g=(0,t.memo)(function(e){var n,l,i,r;let{cardDocument:d,onClick:s,hidden:a,small:o}=e,[u,m]=(0,t.useState)(!0);(0,t.useEffect)(()=>m(!0),[null==d?void 0:d.identifier]),(0,t.useEffect)(()=>{null!=x.current&&x.current.complete&&m(!1)},[null==d?void 0:d.identifier]);let x=(0,t.useRef)(null);return(0,c.jsx)(c.Fragment,{children:a?(0,c.jsx)(f,{ref:x,className:"card-img",loading:"lazy",src:null!==(n=o?null==d?void 0:d.small_thumbnail_url:null==d?void 0:d.medium_thumbnail_url)&&void 0!==n?n:"",onLoadingComplete:e=>m(!1),onClick:s,alt:null!==(l=null==d?void 0:d.name)&&void 0!==l?l:"",fill:!0}):(0,c.jsxs)(c.Fragment,{children:[u&&(0,c.jsx)(h.$,{}),(0,c.jsx)(v,{ref:x,className:"card-img card-img-fade-in",loading:"lazy",imageIsLoading:u,src:null!==(i=o?null==d?void 0:d.small_thumbnail_url:null==d?void 0:d.medium_thumbnail_url)&&void 0!==i?i:"",onLoadingComplete:e=>m(!1),onClick:s,alt:null!==(r=null==d?void 0:d.name)&&void 0!==r?r:"",fill:!0})]})})}),p=u.ZP.div.withConfig({componentId:"sc-e8045987-2"})(j(),e=>null!==(i=e.$borderWidth)&&void 0!==i?i:0),b=(0,t.memo)(function(e){let{small:n,bordered:l=!1,children:i}=e;return(0,c.jsx)(p,{$borderWidth:l?2:0,className:"rounded-".concat(n?"lg":"xl"," shadow-lg ratio ratio-7x5"),children:i})}),D=(0,t.memo)(function(e){let{imageIdentifier:n,previousImageIdentifier:l,nextImageIdentifier:i,cardHeaderTitle:r,cardHeaderButtons:d,cardFooter:t,imageOnClick:u,cardOnClick:m,searchQuery:x,noResultsFound:j}=e,f=(0,o.v9)(e=>null!=n?e.cardDocuments.cardDocuments[n]:void 0),v=(0,o.v9)(e=>null!=l?e.cardDocuments.cardDocuments[l]:void 0),p=(0,o.v9)(e=>null!=i?e.cardDocuments.cardDocuments[i]:void 0),D=null!=f?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g,{cardDocument:f,onClick:u,hidden:!1,small:!0}),l!==n&&null!=v&&(0,c.jsx)(g,{cardDocument:v,onClick:u,hidden:!0,small:!0}),i!==n&&null!=p&&(0,c.jsx)(g,{cardDocument:p,onClick:u,hidden:!0,small:!0})]}):j?(0,c.jsx)(s(),{className:"card-img card-img-fade-in",loading:"lazy",style:{zIndex:1},src:"/blank.png",alt:"Card not found",fill:!0}):(0,c.jsx)(h.$,{});return(0,c.jsxs)(a.Z,{className:"mpccard mpccard-hover",onClick:m,children:[(0,c.jsxs)(a.Z.Header,{className:"pb-0 text-center",children:[(0,c.jsx)("p",{className:"mpccard-slot",children:r}),d]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(b,{small:!0,children:D}),(0,c.jsxs)(a.Z.Body,{className:"mb-0 text-center",children:[(0,c.jsxs)(a.Z.Subtitle,{className:"mpccard-name",children:[null!=f&&f.name,null==f&&void 0!=x&&x.query]}),(0,c.jsx)("div",{className:"mpccard-spacing",children:(0,c.jsxs)(a.Z.Text,{className:"mpccard-source",children:[null!=f&&"".concat(f.source_verbose," [").concat(f.dpi," DPI]"),null==f&&void 0!=x&&"Your search query"]})})]})]}),null!=t&&(0,c.jsx)(a.Z.Footer,{className:"padding-top",style:{paddingTop:"50px"},children:t})]})})},8789:function(e,n,l){l.d(n,{t:function(){return v}});var i=l(5893),r=l(8102),c=l(7294),d=l(7104),s=l(6212),t=l(4051),a=l(5147),o=l(2664),u=l(2283),h=l(4641),m=l(8208),x=l(4291),j=l(1110),f=l(5305);let v=(0,c.memo)(function(e){let{imageIdentifier:n,show:l,handleClose:c,cardDocument:v}=e,g=(0,o.v9)(e=>null!=v?v:e.cardDocuments.cardDocuments[n]),p=(0,o.v9)(e=>e.sourceDocuments.sourceDocuments),[b,D]=u.gk.endpoints.getGoogleDriveImage.useLazyQuery(),_=async()=>{let e=await b(g.identifier),n=e.data;null!=n&&(0,r.saveAs)((0,h.jg)(n),"".concat(g.name," (").concat(g.identifier,").").concat(g.extension))};return(0,i.jsx)(j.Z,{children:(0,i.jsx)("div",{children:null!=g&&(0,i.jsxs)(s.Z,{show:l,onHide:c,size:"xl","data-testid":"detailed-view",children:[(0,i.jsx)(s.Z.Header,{closeButton:!0,children:(0,i.jsx)(s.Z.Title,{children:"Card Details"})}),(0,i.jsx)(s.Z.Body,{children:(0,i.jsxs)(t.Z,{children:[(0,i.jsx)("div",{className:"col-lg-5 mb-3 mb-lg-0",style:{position:"relative"},children:(0,i.jsx)(x.u2,{small:!1,children:(0,i.jsx)(x.oP,{cardDocument:g,hidden:!1,small:!1})})}),(0,i.jsxs)("div",{className:"col-lg-7",children:[(0,i.jsx)("h4",{children:g.name}),(0,i.jsx)(a.Z,{hover:!0,children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"Source Name"})}),(0,i.jsx)("td",{children:null!=p&&null!=p[g.source_id].external_link?(0,i.jsx)("a",{href:p[g.source_id].external_link,target:"_blank",children:g.source_name}):(0,i.jsx)("a",{children:g.source_name})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"Source Type"})}),(0,i.jsx)("td",{children:g.source_type})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"Class"})}),(0,i.jsx)("td",{children:g.card_type.charAt(0).toUpperCase()+g.card_type.slice(1).toLowerCase()})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"Identifier"})}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:g.identifier})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"Resolution"})}),(0,i.jsxs)("td",{children:[g.dpi," DPI"]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"Date Created"})}),(0,i.jsx)("td",{children:g.date})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("b",{children:"File Size"})}),(0,i.jsx)("td",{children:(0,m.K)(g.size,2)})]})]})}),(0,i.jsx)("div",{className:"d-grid gap-0",children:(0,i.jsx)(d.Z,{variant:"primary",onClick:_,disabled:D.isFetching,children:D.isFetching?(0,i.jsx)(f.$,{size:1.5}):"Download Image"})})]})]})}),(0,i.jsx)(s.Z.Footer,{children:(0,i.jsx)(d.Z,{variant:"secondary",onClick:c,children:"Close"})})]})})})})}}]);